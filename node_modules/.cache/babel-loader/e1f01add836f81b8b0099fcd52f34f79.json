{"ast":null,"code":"import _classCallCheck from \"/Users/Anton_Personligt/Desktop/smart-brain/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/Anton_Personligt/Desktop/smart-brain/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/Anton_Personligt/Desktop/smart-brain/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/Anton_Personligt/Desktop/smart-brain/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/Anton_Personligt/Desktop/smart-brain/src/App.js\";\nimport React, { Component } from 'react';\nimport Navigation from './components/Navigation/Navigation';\nimport Logo from './components/Logo/Logo';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\nimport Rank from './components/Rank/Rank';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport ParticlesBg from 'particles-bg';\nimport Signin from './components/Signin/Signin';\nimport Register from './components/Register/Register';\nimport './App.css';\n\n// const particlesOptions = {\n//   particles: {\n//     number: {\n//       value: 30,\n//       density: {\n//         enable: true,\n//         value_area: 800\n//       }\n//     }\n//   }\n// }\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar intialState = {\n  input: '',\n  imageUrl: '',\n  boxes: [],\n  route: 'signin',\n  isSignedIn: false,\n  user: {\n    id: '',\n    name: '',\n    email: '',\n    password: '',\n    entries: 0,\n    joined: ''\n  }\n};\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n  var _super = _createSuper(App);\n  function App() {\n    var _this;\n    _classCallCheck(this, App);\n    _this = _super.call(this);\n    _this.calculateFaceLocations = function (data) {\n      var image = document.getElementById('inputImage');\n      var height = image.height;\n      var width = image.width;\n      return data.outputs[0].data.regions.map(function (face) {\n        var clarifaiFace = face.region_info.bounding_box;\n        return {\n          leftCol: clarifaiFace.left_col * width,\n          topRow: clarifaiFace.top_row * height,\n          rightCol: width - clarifaiFace.right_col * width,\n          bottomRow: height - clarifaiFace.bottom_row * height\n        };\n      });\n    };\n    _this.displayFaceBoxes = function (boxes) {\n      _this.setState({\n        boxes: boxes\n      });\n    };\n    _this.onInputChange = function (event) {\n      _this.setState({\n        input: event.target.value\n      });\n    };\n    _this.onButtonSubmit = function () {\n      _this.setState({\n        imageUrl: _this.state.input\n      });\n      fetch('https://ghostly-shadow-53379.herokuapp.com/imageurl', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          input: _this.state.input\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        if (response) {\n          fetch('https://ghostly-shadow-53379.herokuapp.com/image', {\n            method: 'put',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              id: _this.state.user.id\n            })\n          }).then(function (response) {\n            return response.json();\n          }).then(function (count) {\n            _this.setState(Object.assign(_this.state.user, {\n              entries: count\n            }));\n          }).catch(console.log);\n        }\n        _this.displayFaceBoxes(_this.calculateFaceLocations(response));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n    _this.onRouteChange = function (route) {\n      if (route === 'signout') {\n        _this.setState(intialState);\n      } else if (route === 'home') {\n        _this.setState({\n          isSignedIn: true\n        });\n      }\n      _this.setState({\n        route: route\n      });\n    };\n    _this.loadUser = function (data) {\n      _this.setState({\n        user: {\n          id: data.id,\n          name: data.name,\n          email: data.email,\n          password: data.password,\n          entries: data.entries,\n          joined: data.joined\n        }\n      });\n    };\n    _this.state = intialState;\n    return _this;\n  }\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        imageUrl = _this$state.imageUrl,\n        route = _this$state.route,\n        boxes = _this$state.boxes,\n        user = _this$state.user,\n        isSignedIn = _this$state.isSignedIn;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(ParticlesBg, {\n          type: \"circle\",\n          bg: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Navigation, {\n          isSignedIn: isSignedIn,\n          onRouteChange: this.onRouteChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }, this), route === 'home' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Rank, {\n            name: user.name,\n            entries: user.entries\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(ImageLinkForm, {\n            onInputChange: this.onInputChange,\n            onButtonSubmit: this.onButtonSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(FaceRecognition, {\n            boxes: boxes,\n            imageUrl: imageUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this) : route === 'signin' ? /*#__PURE__*/_jsxDEV(Signin, {\n          loadUser: this.loadUser,\n          onRouteChange: this.onRouteChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Register, {\n          onRouteChange: this.onRouteChange,\n          loadUser: this.loadUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n  return App;\n}(Component);\nexport default App;","map":{"version":3,"names":["React","Component","Navigation","Logo","ImageLinkForm","Rank","FaceRecognition","ParticlesBg","Signin","Register","intialState","input","imageUrl","boxes","route","isSignedIn","user","id","name","email","password","entries","joined","App","calculateFaceLocations","data","image","document","getElementById","height","width","outputs","regions","map","face","clarifaiFace","region_info","bounding_box","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","displayFaceBoxes","setState","onInputChange","event","target","value","onButtonSubmit","state","fetch","method","headers","body","JSON","stringify","then","response","json","count","Object","assign","catch","console","log","err","onRouteChange","loadUser"],"sources":["/Users/Anton_Personligt/Desktop/smart-brain/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Navigation from './components/Navigation/Navigation';\nimport Logo from './components/Logo/Logo';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\nimport Rank from './components/Rank/Rank';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport ParticlesBg from 'particles-bg';\nimport Signin from './components/Signin/Signin';\nimport Register from './components/Register/Register';\nimport './App.css';\n\n// const particlesOptions = {\n//   particles: {\n//     number: {\n//       value: 30,\n//       density: {\n//         enable: true,\n//         value_area: 800\n//       }\n//     }\n//   }\n// }\n\nconst intialState = {\n  input: '',\n  imageUrl: '',\n  boxes: [],\n  route: 'signin',\n  isSignedIn: false,\n  user: {\n    id: '',\n    name: '',\n    email: '',\n    password: '',\n    entries: 0,\n    joined: ''\n  }\n}\n\nclass App extends Component {\nconstructor() {\n  super();\n    this.state = intialState;\n}\n\ncalculateFaceLocations = (data) => {  \n  const image = document.getElementById('inputImage');\n  const height = image.height;\n  const width = image.width;\n  return data.outputs[0].data.regions.map(face => {\n    const clarifaiFace = face.region_info.bounding_box;\n    return {\n        leftCol: (clarifaiFace.left_col * width),\n        topRow: (clarifaiFace.top_row * height),\n        rightCol: (width - clarifaiFace.right_col * width),\n        bottomRow: (height - clarifaiFace.bottom_row * height)  \n      }\n  });\n}\n\n\n\ndisplayFaceBoxes = (boxes) => {\n  this.setState({boxes: boxes});\n}\n\nonInputChange = (event) => {\n  this.setState({ input: event.target.value });\n}\n\nonButtonSubmit = () => {\n  this.setState({ imageUrl: this.state.input })\n  fetch('https://ghostly-shadow-53379.herokuapp.com/imageurl', {\n    method: 'post',\n    headers: {'Content-Type': 'application/json'}, \n    body: JSON.stringify({\n      input: this.state.input\n    })\n  })\n  .then(response => response.json())\n    .then(response => {\n      if (response) {\n        fetch('https://ghostly-shadow-53379.herokuapp.com/image', {\n          method: 'put',\n          headers: {'Content-Type': 'application/json'}, \n          body: JSON.stringify({\n            id: this.state.user.id\n          })\n        })\n        .then(response => response.json())\n        .then(count => {\n          this.setState(Object.assign(this.state.user, { entries: count}))\n            })\n          .catch(console.log)\n      }\n      this.displayFaceBoxes(this.calculateFaceLocations(response))\n  })\n    .catch(err => console.log(err));\n}\n\nonRouteChange = (route) => {\n  if (route === 'signout') {\n    this.setState(intialState);\n  } else if (route === 'home') {\n    this.setState({isSignedIn: true});\n  }\n  this.setState({route: route});\n}\n\nloadUser = (data) => {\n  this.setState({user: {\n    id: data.id,\n    name: data.name,\n    email: data.email,\n    password: data.password,\n    entries: data.entries,\n    joined: data.joined\n  }})\n}\n\n  render() {\n    const {imageUrl, route, boxes, user, isSignedIn } = this.state;\n    return (\n      <div className=\"App\">\n        <ParticlesBg type=\"circle\" bg={true} />\n        <Navigation isSignedIn={isSignedIn} onRouteChange={this.onRouteChange}/>\n        { route === 'home'\n          ? <div>\n          <Logo />\n          <Rank name={user.name} entries={user.entries}/>\n          <ImageLinkForm \n            onInputChange={this.onInputChange} \n            onButtonSubmit={this.onButtonSubmit}/>\n          <FaceRecognition boxes={boxes} imageUrl={imageUrl}/>\n        </div>\n          : (\n            route === 'signin'\n            ? <Signin loadUser={this.loadUser} onRouteChange={this.onRouteChange}/>\n            : <Register onRouteChange={this.onRouteChange} loadUser={this.loadUser}/>\n          )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}