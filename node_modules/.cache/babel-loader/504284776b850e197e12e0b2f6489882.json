{"ast":null,"code":"import _classCallCheck from \"/Users/Anton_Personligt/Desktop/smart-brain/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/Anton_Personligt/Desktop/smart-brain/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/Anton_Personligt/Desktop/smart-brain/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/Anton_Personligt/Desktop/smart-brain/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/Anton_Personligt/Desktop/smart-brain/src/App.js\";\nimport React, { Component } from 'react';\nimport Navigation from './components/Navigation/Navigation';\nimport Logo from './components/Logo/Logo';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\nimport Rank from './components/Rank/Rank';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport Particles from 'react-particles-js';\nimport Signin from './components/Signin/Signin';\nimport Register from './components/Register/Register';\nimport './App.css';\nvar particlesOptions = {\n  particles: {\n    number: {\n      value: 30,\n      density: {\n        enable: true,\n        value_area: 800\n      }\n    }\n  }\n};\nvar intialState = {\n  input: '',\n  imageUrl: '',\n  boxes: [],\n  route: 'signin',\n  isSignedIn: false,\n  user: {\n    id: '',\n    name: '',\n    email: '',\n    password: '',\n    entries: 0,\n    joined: ''\n  }\n};\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n  var _super = _createSuper(App);\n  function App() {\n    var _this;\n    _classCallCheck(this, App);\n    _this = _super.call(this);\n    _this.calculateFaceLocations = function (data) {\n      var image = document.getElementById('inputImage');\n      var height = image.height;\n      var width = image.width;\n      return data.outputs[0].data.regions.map(function (face) {\n        var clarifaiFace = face.region_info.bounding_box;\n        return {\n          leftCol: clarifaiFace.left_col * width,\n          topRow: clarifaiFace.top_row * height,\n          rightCol: width - clarifaiFace.right_col * width,\n          bottomRow: height - clarifaiFace.bottom_row * height\n        };\n      });\n    };\n    _this.displayFaceBoxes = function (boxes) {\n      _this.setState({\n        boxes: boxes\n      });\n    };\n    _this.onInputChange = function (event) {\n      _this.setState({\n        input: event.target.value\n      });\n    };\n    _this.onButtonSubmit = function () {\n      _this.setState({\n        imageUrl: _this.state.input\n      });\n      fetch('https://ghostly-shadow-53379.herokuapp.com/imageurl', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          input: _this.state.input\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        if (response) {\n          fetch('https://ghostly-shadow-53379.herokuapp.com/image', {\n            method: 'put',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              id: _this.state.user.id\n            })\n          }).then(function (response) {\n            return response.json();\n          }).then(function (count) {\n            _this.setState(Object.assign(_this.state.user, {\n              entries: count\n            }));\n          }).catch(console.log);\n        }\n        _this.displayFaceBoxes(_this.calculateFaceLocations(response));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n    _this.onRouteChange = function (route) {\n      if (route === 'signout') {\n        _this.setState(intialState);\n      } else if (route === 'home') {\n        _this.setState({\n          isSignedIn: true\n        });\n      }\n      _this.setState({\n        route: route\n      });\n    };\n    _this.loadUser = function (data) {\n      _this.setState({\n        user: {\n          id: data.id,\n          name: data.name,\n          email: data.email,\n          password: data.password,\n          entries: data.entries,\n          joined: data.joined\n        }\n      });\n    };\n    _this.state = intialState;\n    return _this;\n  }\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        imageUrl = _this$state.imageUrl,\n        route = _this$state.route,\n        boxes = _this$state.boxes,\n        user = _this$state.user,\n        isSignedIn = _this$state.isSignedIn;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Particles, {\n        className: \"particles\",\n        params: particlesOptions,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Navigation, {\n        isSignedIn: isSignedIn,\n        onRouteChange: this.onRouteChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }\n      }), route === 'home' ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Logo, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Rank, {\n        name: user.name,\n        entries: user.entries,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(ImageLinkForm, {\n        onInputChange: this.onInputChange,\n        onButtonSubmit: this.onButtonSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(FaceRecognition, {\n        boxes: boxes,\n        imageUrl: imageUrl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }\n      })) : route === 'signin' ? /*#__PURE__*/React.createElement(Signin, {\n        loadUser: this.loadUser,\n        onRouteChange: this.onRouteChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }\n      }) : /*#__PURE__*/React.createElement(Register, {\n        onRouteChange: this.onRouteChange,\n        loadUser: this.loadUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }\n      }));\n    }\n  }]);\n  return App;\n}(Component);\nexport default App;","map":{"version":3,"names":["React","Component","Navigation","Logo","ImageLinkForm","Rank","FaceRecognition","Particles","Signin","Register","particlesOptions","particles","number","value","density","enable","value_area","intialState","input","imageUrl","boxes","route","isSignedIn","user","id","name","email","password","entries","joined","App","calculateFaceLocations","data","image","document","getElementById","height","width","outputs","regions","map","face","clarifaiFace","region_info","bounding_box","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","displayFaceBoxes","setState","onInputChange","event","target","onButtonSubmit","state","fetch","method","headers","body","JSON","stringify","then","response","json","count","Object","assign","catch","console","log","err","onRouteChange","loadUser"],"sources":["/Users/Anton_Personligt/Desktop/smart-brain/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Navigation from './components/Navigation/Navigation';\nimport Logo from './components/Logo/Logo';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\nimport Rank from './components/Rank/Rank';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport Particles from 'react-particles-js';\nimport Signin from './components/Signin/Signin';\nimport Register from './components/Register/Register';\nimport './App.css';\n\nconst particlesOptions = {\n  particles: {\n    number: {\n      value: 30,\n      density: {\n        enable: true,\n        value_area: 800\n      }\n    }\n  }\n}\n\nconst intialState = {\n  input: '',\n  imageUrl: '',\n  boxes: [],\n  route: 'signin',\n  isSignedIn: false,\n  user: {\n    id: '',\n    name: '',\n    email: '',\n    password: '',\n    entries: 0,\n    joined: ''\n  }\n}\n\nclass App extends Component {\nconstructor() {\n  super();\n    this.state = intialState;\n}\n\ncalculateFaceLocations = (data) => {  \n  const image = document.getElementById('inputImage');\n  const height = image.height;\n  const width = image.width;\n  return data.outputs[0].data.regions.map(face => {\n    const clarifaiFace = face.region_info.bounding_box;\n    return {\n        leftCol: (clarifaiFace.left_col * width),\n        topRow: (clarifaiFace.top_row * height),\n        rightCol: (width - clarifaiFace.right_col * width),\n        bottomRow: (height - clarifaiFace.bottom_row * height)  \n      }\n  });\n}\n\n\n\ndisplayFaceBoxes = (boxes) => {\n  this.setState({boxes: boxes});\n}\n\nonInputChange = (event) => {\n  this.setState({ input: event.target.value });\n}\n\nonButtonSubmit = () => {\n  this.setState({ imageUrl: this.state.input })\n  fetch('https://ghostly-shadow-53379.herokuapp.com/imageurl', {\n    method: 'post',\n    headers: {'Content-Type': 'application/json'}, \n    body: JSON.stringify({\n      input: this.state.input\n    })\n  })\n  .then(response => response.json())\n    .then(response => {\n      if (response) {\n        fetch('https://ghostly-shadow-53379.herokuapp.com/image', {\n          method: 'put',\n          headers: {'Content-Type': 'application/json'}, \n          body: JSON.stringify({\n            id: this.state.user.id\n          })\n        })\n        .then(response => response.json())\n        .then(count => {\n          this.setState(Object.assign(this.state.user, { entries: count}))\n            })\n          .catch(console.log)\n      }\n      this.displayFaceBoxes(this.calculateFaceLocations(response))\n  })\n    .catch(err => console.log(err));\n}\n\nonRouteChange = (route) => {\n  if (route === 'signout') {\n    this.setState(intialState);\n  } else if (route === 'home') {\n    this.setState({isSignedIn: true});\n  }\n  this.setState({route: route});\n}\n\nloadUser = (data) => {\n  this.setState({user: {\n    id: data.id,\n    name: data.name,\n    email: data.email,\n    password: data.password,\n    entries: data.entries,\n    joined: data.joined\n  }})\n}\n\n  render() {\n    const {imageUrl, route, boxes, user, isSignedIn } = this.state;\n    return (\n      <div className=\"App\">\n        <Particles className='particles'\n              params={particlesOptions}\n            />\n        <Navigation isSignedIn={isSignedIn} onRouteChange={this.onRouteChange}/>\n        { route === 'home'\n          ? <div>\n          <Logo />\n          <Rank name={user.name} entries={user.entries}/>\n          <ImageLinkForm \n            onInputChange={this.onInputChange} \n            onButtonSubmit={this.onButtonSubmit}/>\n          <FaceRecognition boxes={boxes} imageUrl={imageUrl}/>\n        </div>\n          : (\n            route === 'signin'\n            ? <Signin loadUser={this.loadUser} onRouteChange={this.onRouteChange}/>\n            : <Register onRouteChange={this.onRouteChange} loadUser={this.loadUser}/>\n          )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}